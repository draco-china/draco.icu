<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/code.svg" />
    <link rel="stylesheet" href="/umi.27fb2de8.css" />
    <link
      rel="stylesheet"
      href="/docs__optimization__02-浏览器渲染机制.md.37fdd277.chunk.css"
    />
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.5.26
    </script>
    <script
      crossorigin="anonymous"
      async="true"
      src="httpshttps://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8911772601296047"
    ></script>
    <script>
      !(function () {
        var e = localStorage.getItem("dumi:prefers-color"),
          t = window.matchMedia("(prefers-color-scheme: dark)").matches,
          r = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === r[2] ? (t ? r[1] : r[0]) : r.indexOf(e) > -1 ? e : r[0]
        );
      })();
    </script>
    <script>
      var _hmt = _hmt || [];
    </script>
    <script>
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?c601bdebcd89b7fc076d669b78e34c6a";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
    <title>浏览器渲染机制 - draco.icu</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/optimization/02-浏览器渲染机制" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="false" data-gapless="false"><div class="__dumi-default-navbar" data-mode="doc"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/code.svg&#x27;)" href="/">draco.icu</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="doc"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/code.svg&#x27;)" href="/"></a><h1>draco.icu</h1><p>I see you, 遇见你</p><p><object type="image/svg+xml" data="https://img.shields.io/github/stars/draco-china/draco.icu?style=social"></object></p></div><div class="__dumi-default-menu-mobile-area"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/reward">吐槽一下</a></li><li><a href="/">Hi there, 👋 I&#x27;m Draco! 😎</a></li><li><a href="/engineering">前端工程化</a><ul><li><a href="/engineering/01-前端代码规范"><span>前端代码规范</span></a></li><li><a href="/engineering/02-前端书籍推荐"><span>前端书籍推荐</span></a></li></ul></li><li><a aria-current="page" class="active" href="/optimization">前端性能优化</a><ul><li><a href="/optimization/00-前端性能优化认知"><span>前端性能优化认知</span></a></li><li><a href="/optimization/01-前端性能分析工具和指标"><span>性能指标和优化目标</span></a></li><li><a aria-current="page" class="active" href="/optimization/02-浏览器渲染机制"><span>浏览器渲染机制</span></a></li><li><a href="/optimization/03-渲染优化"><span>渲染优化</span></a></li><li><a href="/optimization/04-页面渲染性能优化"><span>页面渲染性能优化</span></a></li><li><a href="/optimization/05-静态资源优化"><span>静态资源优化</span></a></li><li><a href="/optimization/06-防抖、节流"><span>防抖、节流</span></a></li></ul></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="前言" data-depth="2"><a href="/optimization/02-浏览器渲染机制#前言"><span>前言</span></a></li><li title="浏览器组成" data-depth="2"><a href="/optimization/02-浏览器渲染机制#浏览器组成"><span>浏览器组成</span></a></li><li title="浏览器内核" data-depth="2"><a href="/optimization/02-浏览器渲染机制#浏览器内核"><span>浏览器内核</span></a></li><li title="页面加载流程" data-depth="2"><a href="/optimization/02-浏览器渲染机制#页面加载流程"><span>页面加载流程</span></a></li><li title="浏览器渲染机制" data-depth="2"><a href="/optimization/02-浏览器渲染机制#浏览器渲染机制"><span>浏览器渲染机制</span></a></li><li title="解析 HTML 成 DOM 树" data-depth="3"><a href="/optimization/02-浏览器渲染机制#解析-html-成-dom-树"><span>解析 HTML 成 DOM 树</span></a></li><li title="构建 CSSOM" data-depth="3"><a href="/optimization/02-浏览器渲染机制#构建-cssom"><span>构建 CSSOM</span></a></li><li title="构建渲染树" data-depth="3"><a href="/optimization/02-浏览器渲染机制#构建渲染树"><span>构建渲染树</span></a></li><li title="渲染阻塞" data-depth="3"><a href="/optimization/02-浏览器渲染机制#渲染阻塞"><span>渲染阻塞</span></a></li><li title="布局与绘制" data-depth="3"><a href="/optimization/02-浏览器渲染机制#布局与绘制"><span>布局与绘制</span></a></li><li title="性能优化策略" data-depth="2"><a href="/optimization/02-浏览器渲染机制#性能优化策略"><span>性能优化策略</span></a></li><li title="回流(reflow)与重绘(repaint)" data-depth="3"><a href="/optimization/02-浏览器渲染机制#回流reflow与重绘repaint"><span>回流(reflow)与重绘(repaint)</span></a></li><li title="首屏优化加载" data-depth="3"><a href="/optimization/02-浏览器渲染机制#首屏优化加载"><span>首屏优化加载</span></a></li><li title="总结" data-depth="2"><a href="/optimization/02-浏览器渲染机制#总结"><span>总结</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h2 id="前言"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#前言"><span class="icon icon-link"></span></a>前言</h2><p>浏览器是我们日常开发的重要的工具，那么你了解浏览器吗？即使在前端面试中，我们也经常会遇到：在浏览器地址中从输入 url 地址到出现页面，这个过程发生了什么？介绍一下重绘和回流？这一类关于浏览器的问题。我们可能会知道大概的轮廓但对于具体的细节却是不那么清楚，那么今天我们就从浏览器组成开始来了解一下浏览器的渲染机制</p><h2 id="浏览器组成"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#浏览器组成"><span class="icon icon-link"></span></a>浏览器组成</h2><p>浏览器主要由 7 个部分组成：</p><ul><li>用户界面（User Interface）：定义了一些常用的浏览器组件，比如地址栏，返回、书签等等</li><li>数据持久化（Data Persistence）：指浏览器的 cookie、local storage 等组件</li><li>浏览器引擎（Browser engine）：平台应用的相关接口，在用户界面和呈现引擎之间传送指令。</li><li>渲染引擎（Rendering engine）：处理 HTML、CSS 的解析与渲染</li><li>JavaScript 解释器（JavaScript Interpreter）：解析和执行 JavaScript 代码</li><li>用户界面后端（UI Backend）：指浏览器的的图形库等</li><li>网络（Networking）：用于网络调用，比如 HTTP 请求</li></ul><h2 id="浏览器内核"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#浏览器内核"><span class="icon icon-link"></span></a>浏览器内核</h2><p>浏览器内核分为两部分：渲染引擎(layout engineer 或 Rendering Engine)和 JS 引擎</p><ul><li>渲染引擎：负责取得网页的内容（HTML、XML、图像等等）、整理讯息（例如加入 CSS 等），以及计算网页的显示方式，然后会输出至显示器或打印机</li><li>JS 引擎：负责解析和执行 javascript 来实现网页的动态效果 浏览器的内核的不同对于网页的语法解释会有不同，所以渲染的效果也不相同。所有网页浏览器、电子邮件客户端以及其它需要编辑、显示网络内容的应用程序都需要内核，最开始渲染引擎和 JS 引擎并没有区分的很明确，后来 JS 引擎越来越独立，内核就倾向于只指渲染引擎</li></ul><p><div class="__dumi-default-alert">常见的浏览器内核：Trident（IE）、Gecko（火狐）、Blink（Chrome、Opera）、Webkit（Safari）</div></p><h2 id="页面加载流程"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#页面加载流程"><span class="icon icon-link"></span></a>页面加载流程</h2><p>在了解浏览器渲染过程之前，先来了解一下页面的加载流程。有助于更好理解后续渲染过程。从浏览器地址中从输入 url 地址到渲染出一个页面，会经过以下过程。</p><ol><li>浏览器输入的 <code>url</code> 地址经过 DNS 解析获得对应的 IP</li><li>向服务器发起 <code>TCP</code> 的 3 次握手</li><li>建立链接后，浏览器向该 IP 地址发送 <code>http</code> 请求</li><li>服务器接收到请求，返回一堆 <code>HMTL</code> 格式的字符串代码</li><li>浏览器获得 <code>html</code> 代码，解析成 <code>DOM</code> 树</li><li>获取 <code>CSS</code> 并构建 <code>CSSOM</code></li><li>将 <code>DOM</code> 与 <code>CSSOM</code> 结合，创建渲染树</li><li>找到所有内容都处于网页的哪个位置，布局渲染树</li><li>最终绘制出页面</li></ol><h2 id="浏览器渲染机制"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#浏览器渲染机制"><span class="icon icon-link"></span></a>浏览器渲染机制</h2><p>我们将要介绍的浏览器渲染过程主要步骤是 5-9 步，可以用下面的图来形象的展示</p><p><img src="/static/16acf684a5a9f3fc.43feb8d5.png" alt="浏览器渲染机制"/></p><h3 id="解析-html-成-dom-树"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#解析-html-成-dom-树"><span class="icon icon-link"></span></a>解析 HTML 成 DOM 树</h3><p>这个解析过程大概可以分为几个步骤：</p><p><img src="data:image/png;base64,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" alt="解析 HTML 成 DOM 树"/></p><ul><li>第一步：浏览器从磁盘或网络读取 <code>HTML</code> 的原始字节，也就是传输的 0 和 1 这样的字节数据，并根据文件的指定编码（例如 UTF-8）将它们转换成字符串。</li><li>第二步：将字符串转换成 <code>Token</code>,例如：“”、“”等。<code>Token</code> 中会标识出当前 <code>Token</code> 是“开始标签”或是“结束标签”亦或是“文本”等信息</li><li>第三步：在每个 <code>Token</code> 被生成后，会立刻消耗这个 <code>Token</code> 创建出节点对象，因此在构建 DOM 的过程中，不是等待所有的 <code>Token</code> 都生成后才去构建 <code>DOM</code>,而是一边生成 <code>Token</code> 一边消耗来生成节点对象。</li></ul><div class="__dumi-default-alert">注意：带有结束标签标识的 `Token` 不会创建节点对象 第四步：通过“开始标签”与“结束标签”来识别并关联节点之间的关系。当所有 Token 都生成并消耗完毕后，我们就得到了一颗完整的 `DOM` 树。</div><p>但是现在有一个疑问，节点之间的关联关系是如何维护的呢？</p><p>上面我们提到 <code>Token</code> 会标识是“开始标签”还是“结束标签”，以下图为例：“Hello” <code>Token</code> 位于“title”开始标签与“title”结束标签之间，表明“Hello” <code>Token</code> 是“title” <code>Token</code> 的子节点。同理“title” <code>Token</code> 是“head” <code>Token</code> 的子节点。</p><p><img src="/static/16acf684a3f49738.8f3c1f9d.png" alt="解析 HTML 成 DOM 树"/></p><h3 id="构建-cssom"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#构建-cssom"><span class="icon icon-link"></span></a>构建 CSSOM</h3><p>既然有了 html 解析，那 css 解析也是必不可少的，解析 css 构建 <code>CSSOM</code> 的过程和构建 DOM 的过程非常的相似。当浏览器接收到一段 CSS，浏览器首先要做的是识别出 <code>Token</code>，然后构建节点并生成 <code>CSSOM</code><img src="data:image/png;base64,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" alt="构建 CSSOM"/></p><p>节点中样式可以通过继承得到，也可以自己设置，因此在构建的过程中浏览器得递归 <code>CSSOM</code> 树，然后确定具体的元素到底是什么样式。为了 <code>CSSOM</code> 的完整性，也只有等构建完毕才能进入到下一个阶段，哪怕 <code>DOM</code> 已经构建完，它也得等 <code>CSSOM</code>，然后才能进入下一个阶段。</p><div class="__dumi-default-alert">CSS 匹配 HTML 元素是一个相当复杂和有性能问题的事情。所以，DOM 树要小，CSS 尽量用 id 和 class，千万不要过渡层叠下去 所以，CSS 的加载速度与构建 CSSOM 的速度将直接影响首屏渲染速度，因此在默认情况下CSS被视为阻塞渲染的资源</div><h3 id="构建渲染树"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#构建渲染树"><span class="icon icon-link"></span></a>构建渲染树</h3><p>当我们生成 <code>DOM</code> 树和 <code>CSSOM</code> 树后，我们需要将这两颗树合并成渲染树，在构建渲染树的过程中浏览器需要做如下工作：</p><ul><li>从 DOM 树的根节点开始遍历每个可见节点。</li><li>有些节点不可见（例如<code>脚本 Token</code>、<code>元 Token</code> 等），因为它们不会体现在渲染输出中，所以会被忽略。</li><li>某些节点被 <code>CSS</code> 隐藏，因此在渲染树中也会被忽略。例如某些节点设置了 <code>display: none</code> 属性。</li><li>对于每个可见节点，为其找到适配的 <code>CSSOM</code> 规则并应用它们</li></ul><p><img src="/static/16acf684a597c066.a7f96b1e.png" alt="构建渲染树"/></p><h3 id="渲染阻塞"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#渲染阻塞"><span class="icon icon-link"></span></a>渲染阻塞</h3><p>在渲染的过程中，遇到一个 <code>script</code> 标记时，就会停止渲染，去请求脚本文件并执行脚本文件，因为浏览器渲染和 <code>JS</code> 执行共用一个线程，而且这里必须是单线程操作，多线程会产生渲染 <code>DOM</code> 冲突。<code>JavaScript</code> 的加载、解析与执行会严重阻塞 <code>DOM</code> 的构建。只有等到脚本文件执行完毕，才会去继续构建 DOM。</p><p>js 不单会阻塞 <code>DOM</code> 构建，还会导致 <code>CSSOM</code> 也阻塞 <code>DOM</code> 的构建，如果 <code>JavaScript</code> 脚本还操作了 <code>CSSOM</code>，而正好这个 <code>CSSOM</code> 还没有下载和构建，浏览器甚至会延迟脚本执行和构建 <code>DOM</code>，直至完成其 <code>CSSOM</code> 的下载和构建，然后再执行 <code>JavaScript</code>，最后在继续构建 DOM</p><p>因此 <code>script</code> 的位置很重要，在实际使用过程中遵循以下两个原则：</p><ul><li><code>CSS</code> 优先：引入顺序上，<code>CSS</code> 资源先于 <code>JavaScript</code> 资源。</li><li><code>JS</code> 置后：我们通常把 <code>JS</code> 代码放到页面底部，且 <code>JavaScript</code> 应尽量少影响 <code>DOM</code> 的构建</li></ul><h3 id="布局与绘制"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#布局与绘制"><span class="icon icon-link"></span></a>布局与绘制</h3><p>浏览器拿到渲染树后，就会从渲染树的根节点开始遍历，然后确定每个节点对象在页面上的确切大小与位置，通常这一行为也被称为“自动重排”。布局阶段的输出是一个盒子模型，它会精确地捕获每个元素在屏幕内的确切位置与大小，所有相对测量值都将转换为屏幕上的绝对像素。这一过程也可称为回流 布局完成后，浏览器会立即发出“Paint Setup”和“Paint”事件，将渲染树转换成屏幕上的像素。</p><h2 id="性能优化策略"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#性能优化策略"><span class="icon icon-link"></span></a>性能优化策略</h2><p>在我们了解浏览器的渲染机制后，<code>DOM</code> 和 <code>CSSOM</code> 结构构建顺序，我们可以针对性能优化问题给出一些方案，提升页面性能。</p><h3 id="回流reflow与重绘repaint"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#回流reflow与重绘repaint"><span class="icon icon-link"></span></a>回流(<code>reflow</code>)与重绘(<code>repaint</code>)</h3><p>当元素的样式发生变化时，浏览器需要触发更新，重新绘制元素。这个过程中，有两种类型的操作，即重绘与回流。</p><ul><li>重绘(<code>repaint</code>): 当元素样式的改变不影响布局时，浏览器将使用重绘对元素进行更新，此时由于只需要 UI 层面的重新像素绘制，因此损耗较少</li><li>回流(<code>reflow</code>): 当元素的尺寸、结构或触发某些属性时，浏览器会重新渲染页面，称为回流。此时，浏览器需要重新经过计算，计算后还需要重新页面布局，因此是较重的操作。会触发回流的操作:</li><li>添加或删除可见的 <code>DOM</code> 元素</li><li>元素的位置发生变化</li><li>元素的尺寸发生变化（包括外边距、内边框、边框大小、高度和宽度等）</li><li>内容发生变化，比如文本变化或图片被另一个不同尺寸的图片所替代。</li><li>页面一开始渲染的时候（这肯定避免不了）</li><li>浏览器的窗口尺寸变化（因为回流是根据视口的大小来计算元素的位置和大小的</li></ul><p><div class="__dumi-default-alert">注意：回流一定会触发重绘，而重绘不一定会回流,重绘的开销较小，回流的代价较高</div></p><p>因此为了减少性能优化，我们可以尽量避免回流或者重绘操作 css</p><ul><li>避免使用 <code>table</code> 布局</li><li>将动画效果应用到 <code>position</code> 属性为 <code>absolute</code> 或 <code>fixed</code> 的元素上</li></ul><p>javascript</p><ul><li>避免频繁操作样式，可汇总后统一 一次修改</li><li>尽量使用 <code>class</code> 进行样式修改</li><li>减少 <code>dom</code> 的增删次数，可使用 字符串 或者 <code>documentFragment</code> 一次性插入</li><li>极限优化时，修改样式可将其 <code>display: none</code> 后修改</li><li>避免多次触发上面提到的那些会触发回流的方法，可以的话尽量用 变量存储</li></ul><p><code>async</code> 和 <code>defer</code> 的作用是什么？有什么区别?</p><p><img src="data:image/png;base64,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" alt="async 和 defer 的作用是什么？有什么区别"/></p><p>其中蓝色线代表 JavaScript 加载；红色线代表 JavaScript 执行；绿色线代表 HTML 解析</p><p>1）情况 1 <code>&lt;scriptsrc=&quot;script.js&quot;&gt;</code> 没有 <code>defer</code> 或 <code>async</code>，浏览器会立即加载并执行指定的脚本，也就是说不等待后续载入的文档元素，读到就加载并执行。 2）情况 2 (异步下载) <code>async</code> 属性表示异步执行引入的 <code>JavaScript</code>，与 <code>defer</code> 的区别在于，如果已经加载好，就会开始执行——无论此刻是 <code>HTML</code> 解析阶段还是 <code>DOMContentLoaded</code> 触发之后。需要注意的是，这种方式加载的 <code>JavaScript</code> 依然会阻塞 <code>load</code> 事件。换句话说，<code>async-script</code> 可能在 <code>DOMContentLoaded</code> 触发之前或之后执行，但一定在 <code>load</code> 触发之前执行。 3）情况 3 <code>&lt;scriptdefersrc=&quot;script.js&quot;&gt;</code>(延迟执行) <code>defer</code> 属性表示延迟执行引入的 <code>JavaScript</code>，即这段 <code>JavaScript</code> 加载时 <code>HTML</code> 并未停止解析，这两个过程是并行的。整个 <code>document</code> 解析完毕且 <code>defer-script</code> 也加载完成之后（这两件事情的顺序无关），会执行所有由 <code>defer-script</code> 加载的 <code>JavaScript</code> 代码，然后触发 <code>DOMContentLoaded</code> 事件。</p><p><code>defer</code> 与相比普通 <code>script</code>，有两点区别：</p><ul><li>载入 <code>JavaScript</code> 文件时不阻塞 <code>HTML</code> 的解析，执行阶段被放到 <code>HTML</code> 标签解析完成之后；</li><li>在加载多个 <code>JS</code> 脚本的时候，<code>async</code> 是无顺序的加载，而 <code>defer</code> 是有顺序的加载</li></ul><p><code>js</code> 优化可以在 <code>script</code> 标签加上 <code>defer</code> 属性 和 <code>async</code> 属性用于在不阻塞页面文档解析的前提下，控制脚本的下载和执行</p><p><div class="__dumi-default-alert">其他: CSS 标签的 rel 属性 中的属性值设置为 preload 能够让你在你的 HTML 页面中可以指明哪些资源是在页面加载完成后即刻需要的,最优的配置加载顺序，提高渲染性能</div></p><h3 id="首屏优化加载"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#首屏优化加载"><span class="icon icon-link"></span></a>首屏优化加载</h3><ul><li>减少首屏 <code>CGI</code> 的计算量：比如在微信 8.8 无现金日 H5 开发中，前端希望拿到用户的个人信息、消费记录、排名三类数据，如果只通过一个 <code>CGI</code> 来处理，那么后台响应时间肯定会变长；由于在 <code>H5</code> 的首屏中，只包含了用户信息，消费记录、排名都在第 2 屏和第 3 屏，此时其实可以利用异步的方式来拿消费记录、排名的数据。</li><li>页面瘦身：压缩 <code>HTML</code>、<code>CSS</code>、<code>JavaScript</code>。</li><li>多用缓存：缓存能大幅度降低页面非首次加载的时间。</li><li>（少用） <code>table</code> 布局，浏览器在渲染 <code>table</code> 时会消耗较多资源，而且只有 <code>table</code> 里有一点变化，整个 <code>table</code> 都会重新渲染。</li><li>做预加载：部分 <code>H5</code> 页面首屏可能要下载较多的静态资源，比如图片，这时为了避免加载时出现“难看”的页面，用预加载（loading 的方式）做一个过渡。</li><li>cdn 分发（减少传输距离）。通过在多台服务器部署相同的副本，当用户访问时，服务器根据用户跟哪台服务器距离近，来决定哪台服务器去响应这个请求。</li><li>前端的资源动态加载<ul><li>路由动态加载，最常用的做法，以页面为单位，进行动态加载。</li><li>组件动态加载(offScreen Component)，对于不在当前视窗的组件，先不加载。</li><li>图片懒加载(offScreen Image)，同上。值得庆幸的是，越来越多的浏览器支持原生的懒 加载，通过给 <code>img</code> 标签加上 <code>loading=&quot;lazy&quot;</code> 来开启懒加载模式。</li></ul></li><li>减少请求：<code>CSS</code>、<code>JavaScript</code> 文件数尽量少，甚至当 <code>CSS</code>、<code>JS</code> 的代码不多时，可以考虑直接将代码内嵌到页面中。 这点在 http1.1 的优势很明显，因为 http1.1 的请求是串行的（尽管有多个 tcp 通道），每个请求都需要往返后才能继续下个请求。此时合并请求可以减少在路途上浪费的时间，此外还会带来重复的请求头部信息（比如 cookie)。在 http2.0 中这个问题会弱化很多，但也有做的必要。</li><li>页面使用骨架屏。意思是在首屏加载完成之前，通过渲染一些简单元素进行占位。骨架屏的好处在于可以减少用户等待时的急躁情绪。这点很有效，在很多成熟的网站（京东、淘宝、Youtube）都有大量应用。没有骨架屏的话，一个 loading 的菊花图也是可以的。</li><li>使用 ssr 渲染</li><li>引入 http2.0。http2.0 对比 http1.1，最主要的提升是传输性能，在接口小而多的时候会更加明显。</li><li>利用好 http 压缩。即使是最普通的 gzip，也能把 bootstrap.min.css 压缩到原来的 17%。可见，压缩的效果非常明显，特别是对于文本类的静态资源。另外，接口也是能压缩的。接口不大的话不用压缩，因为性价比低（考虑压缩和解压的时间）。</li><li>利用好 script 标签的 async 和 defer 这两个属性。功能独立且不要求马上执行的 js 文件，可以加入 async 属性。如果是优先级低且没有依赖的 js，可以加入 defer 属性。</li><li>（少用）选择先进的图片格式。使用 WebP 的图片格式来代替现有的 jpeg 和 png，当页面图片较多时，这点作用非常明显。把部分大容量的图片从 BaseLine JPEG 切换成 Progressive JPEG（理解这两者的差别）也能缩小体积。</li><li>（少用）渲染的优先级。浏览器有一套资源的加载优先级策略。也可以通过 js 来自己控制请求的顺序和渲染的顺序。一般我们不需要这么细粒度的控制，而且控制的代码也不好写。</li><li>（少用）前端做一些接口缓存。前端也可以做接口缓存，缓存的位置有两个，一个是内存，即赋值给运行时的变量，另一个是 localStorage。比如用户的签到日历（展示用户是否签到），我们可以缓存这样的接口到 localStorage，有效期是当天。或者有个列表页，我们总是缓存上次的列表内容到本地，下次加载时，我们先从本地读取缓存，并同时发起请求到服务器获取最新列表。</li></ul><h2 id="总结"><a aria-hidden="true" tabindex="-1" href="/optimization/02-浏览器渲染机制#总结"><span class="icon icon-link"></span></a>总结</h2><p>我们已经将浏览器的渲染机制了解了一遍，不仅了解到一些性能优化方案，也可以得出结论： 浏览器渲染的关键路径共分五个步骤：</p><p><div class="__dumi-default-alert">构建 DOM -&gt; 构建 CSSOM -&gt; 构建渲染树 -&gt; 布局 -&gt; 绘制</div></p><p>参考链接：</p><ul><li><a target="_blank" rel="noopener noreferrer" href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction?hl=zh-cn">Google 官方 | 渲染树构建、布局及绘制<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/6844903923795361800">浏览器渲染原理及流程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/6844904119157669902">从浏览器渲染原理，浅谈回流重绘与性能优化<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/6844904063641862151">你真的了解回流和重绘吗<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="http://blog.csdn.net/liaozhongping/article/details/47057889">如何减少浏览器 repaint 和 reflow ?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/draco-china/draco.icu/edit/main/docs/optimization/02-浏览器渲染机制.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">6/28/2022 03:23:23</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-176586322-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/umi.e1a42c61.js"></script>
    <script src="/docs__optimization__02-浏览器渲染机制.md.8d8beacb.async.js"></script>
  </body>
</html>
